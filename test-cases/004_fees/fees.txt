*** Settings ***
Suite Setup         Preparation
Suite Teardown		Finish Suite
Library				SeleniumLibrary
Resource    		../../resources/resource.txt
Resource    		../../resources/testData.txt

*** Variables ***
${customer shiptos}                 13-30
${edit customer shiptos}            31-50
${monthly fee}                      19
${edit monthly fee}                 27
${number of buttons}                301-500
${monthly fee per button}           3
${srx row number}                   
${button row number}               
${shiptos cell}                     xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[3]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr[${srx row number}]/td[1]/div
${fee cell}                         xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[3]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr[${srx row number}]/td[2]/div
${remove fee button}                xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[3]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr[${srx row number}]/td[3]/div/div/button
${number of buttons cell}           xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[2]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr[${button row number}]/td[1]/div
${monthly fee cell}                 xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[2]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr[${button row number}]/td[2]/div
${remove monthly fee button}        xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[2]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr[${button row number}]/td[3]/div/div/button


*** Test Cases ***
Fees Menu Checking
    [Tags]      FeesMenuChecking
    Click Element   css:#uncontrolled-tab-example-tab-2
    Is Button Monthly Fee
    Click Element   css:#uncontrolled-tab-example-tab-1
    Is Base Fees
    Click Element   css:#uncontrolled-tab-example-tab-3
    Is SRXCloud

Invalid Add New SRXCloud Fee
    [Tags]      InvalidAddNewSRXCloudFee    SRX
    Click Element                   css:#uncontrolled-tab-example-tab-3
    Is SRXCloud
    Click Element                   css:#uncontrolled-tab-example-pane-3 > div:nth-child(1) > div:nth-child(2) > div:nth-child(2) > div:nth-child(1) > button:nth-child(1)
    Is Add SRXCloud Fee
    Click Element                   css:.close
    Is SRXCloud
    Click Element                   css:#uncontrolled-tab-example-pane-3 > div:nth-child(1) > div:nth-child(2) > div:nth-child(2) > div:nth-child(1) > button:nth-child(1)
    Press Key                       id:numOfShiptos_id      \ue004
    Element Should Be Visible       css:.fa-exclamation-circle > path:nth-child(1)
    Press Key                       id:value_id             \ue004
    Element Should Be Visible       css:div.item-form-field:nth-child(2) > div:nth-child(2) > span:nth-child(2) > svg:nth-child(1) > path:nth-child(1)
    Input Text                      id:numOfShiptos_id      2345
    Click Element                   id:value_id
    Element Should Be Visible       css:.fa-exclamation-circle > path:nth-child(1)
    Click Element                   css:.modal-dialog-cancel-button
    Is SRXCloud

Valid Add New SRXCloud Fee
    [Tags]      ValidAddNewSRXCloudFee      SRX
    Click Element                   css:#uncontrolled-tab-example-tab-3
    Is SRXCloud
    Click Element                   css:#uncontrolled-tab-example-pane-3 > div:nth-child(1) > div:nth-child(2) > div:nth-child(2) > div:nth-child(1) > button:nth-child(1)
    Is Add SRXCloud Fee
    Input Text                      id:numOfShiptos_id      ${customer shiptos}
    Input Text                      id:value_id             ${monthly fee}
    Click Element                   css:.modal-dialog-ok-button

Checking New SRXCloud Fee
    [Tags]      SRX
    Sleep                           5 second
    Element Text Should Be          ${shiptos cell}      ${customer shiptos}
    Element Text Should Be          ${fee cell}          $${monthly fee}

Delete SRXCloud Fee
    [Tags]      SRX
    Click Element                   css:#uncontrolled-tab-example-tab-3
    Is SRXCloud
    Click Element                   ${remove fee button}
    Is Delete SRXCloud Fee
    Click Element                   css:.close
    Is SRXCloud
    Click Element                   ${remove fee button}
    Click Element                   css:.modal-footer > button:nth-child(1)
    Is SRXCloud
    Click Element                   ${remove fee button}
    Element Text Should Be          css:td.text-center:nth-child(1)     ${customer shiptos}
    Element Text Should Be          css:td.text-center:nth-child(2)     $${monthly fee}
    Click Element                   css:button.btn:nth-child(2)
    Sleep                           1 second

Invalid Add New Button Fee
    [Tags]      Button
    Click Element                   css:#uncontrolled-tab-example-tab-2
    Is Button Monthly Fee
    Click Element                   css:#uncontrolled-tab-example-pane-2 > div:nth-child(1) > div:nth-child(2) > div:nth-child(2) > div:nth-child(1) > button:nth-child(1)
    Is Add Button Fee
    Click Element                   css:.close
    Is Button Monthly Fee  
    Click Element                   css:#uncontrolled-tab-example-pane-2 > div:nth-child(1) > div:nth-child(2) > div:nth-child(2) > div:nth-child(1) > button:nth-child(1)
    Press Key                       id:numOfButtons_id      \ue004
    Element Should Be Visible       css:div.item-form-field:nth-child(1) > div:nth-child(2) > span:nth-child(2) > svg:nth-child(1) > path:nth-child(1)
    Press Key                       id:value_id             \ue004
    Element Should Be Visible       css:div.item-form-field:nth-child(2) > div:nth-child(2) > span:nth-child(2) > svg:nth-child(1) > path:nth-child(1)
    Input Text                      id:numOfButtons_id      2345
    Click Element                   id:value_id
    Element Should Be Visible       css:div.item-form-field:nth-child(2) > div:nth-child(2) > span:nth-child(2) > svg:nth-child(1) > path:nth-child(1)
    Click Element                   css:.modal-dialog-cancel-button
    Is Button Monthly Fee

Valid Add New Button Fee
    [Tags]      Button
    Click Element                   css:#uncontrolled-tab-example-tab-2
    Is Button Monthly Fee
    Click Element                   css:#uncontrolled-tab-example-pane-2 > div:nth-child(1) > div:nth-child(2) > div:nth-child(2) > div:nth-child(1) > button:nth-child(1)
    Is Add Button Fee
    Input Text                      id:numOfButtons_id      ${number of buttons}
    Input Text                      id:value_id             ${monthly fee per button}
    Click Element                   css:.modal-dialog-ok-button

Checking New Button Fee
    [Tags]      Button
    Sleep                           5 second
    Element Text Should Be          ${number of buttons cell}      ${number of buttons}
    Element Text Should Be          ${monthly fee cell}            $${monthly fee per button}

Delete Button Monthly Fee
    [Tags]      Button
    Click Element                   css:#uncontrolled-tab-example-tab-2
    Is Button Monthly Fee
    Click Element                   ${remove monthly fee button}
    Is Delete Button Fee
    Click Element                   css:.close
    Is Button Monthly Fee
    Click Element                   ${remove monthly fee button}
    Click Element                   css:.modal-footer > button:nth-child(1)
    Is Button Monthly Fee
    Click Element                   ${remove monthly fee button}
    Element Text Should Be          css:td.text-center:nth-child(1)     ${number of buttons}
    Element Text Should Be          css:td.text-center:nth-child(2)     $${monthly fee per button}
    Click Element                   css:button.btn:nth-child(2)
    Sleep                           1 second

*** Keywords ***
Preparation
	Goto Fees
	Number Of Rows SRX
    Number Of Rows Button
	${srx row number}=			    Evaluate	${srx row}+1
    ${button row number}=			Evaluate	${button row}+1
    Set Global Variable     ${srx row number}
    Set Global Variable     ${button row number}
    Set Global Variable     ${shiptos cell}                     xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[3]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr[${srx row number}]/td[1]/div
    Set Global Variable     ${fee cell}                         xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[3]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr[${srx row number}]/td[2]/div
    Set Global Variable     ${remove fee button}                xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[3]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr[${srx row number}]/td[3]/div/div/button
    Set Global Variable     ${number of buttons cell}           xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[2]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr[${button row number}]/td[1]/div
    Set Global Variable     ${monthly fee cell}                 xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[2]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr[${button row number}]/td[2]/div
    Set Global Variable     ${remove monthly fee button}        xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[2]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr[${button row number}]/td[3]/div/div/button

Number Of Rows SRX
	${srx row}		    Get Element Count	xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[3]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr
	Set Global Variable		${srx row}

Number Of Rows Button
	${button row}		Get Element Count	xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[2]/div/div/div[3]/div/div/div/div/div[1]/div[2]/table/tbody/tr
	Set Global Variable		${button row}

Is Delete Button Fee
    Sleep                       1 second
    Element Text Should Be      css:.modal-title        Removal Confirmation

Is Delete SRXCloud Fee
    Sleep                       1 second
    Element Text Should Be      css:.modal-title        Removal Confirmation

Is Add Button Fee
    Sleep                       1 second
    Element Text Should Be      css:.modal-title        Add new button fee

Is Add SRXCloud Fee
    Sleep                       1 second
    Element Text Should Be      css:.modal-title        Add new SRX cloud fee

Is SRXCloud
    Sleep           1 second
    Element Text Should Be      xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[3]/div/div/div[2]/div/button     Add new SRX cloud fee

Is Button Monthly Fee
    Sleep           1 second
    Element Text Should Be      xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[2]/div/div/div[2]/div/button     Add new button fee

Is Base Fees
    Sleep           1 second
    Element Text Should Be      xpath:/html/body/div/div/div/div[2]/div/div[2]/div/div/div/div[1]/div/div/div[3]/div/div/div/div/div[1]/div[1]/table/thead/tr/th[2]/div[1]      Price
